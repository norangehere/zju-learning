
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Ran9E的笔记本">
      
      
      
        <link rel="canonical" href="https://norangehere.github.io/zju-learning/CG/course/">
      
      
      
      
      <link rel="icon" href="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/logo.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.2">
    
    
      
        <title>Computer Graphics - Ran9E的笔记本</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"LXGW WenKai Screen";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://unpkg.com/katex@0/dist/katex.min.css">
    
      <link rel="stylesheet" href="../../css/custom.css">
    
      <link rel="stylesheet" href="../../css/card.css">
    
      <link rel="stylesheet" href="../../css/tasklist.css">
    
      <link rel="stylesheet" href="../../css/flink.css">
    
      <link rel="stylesheet" href="../../assets/file-block.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="grey" data-md-color-accent="grey">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#computer-graphics" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Ran9E的笔记本" class="md-header__button md-logo" aria-label="Ran9E的笔记本" data-md-component="logo">
      
  <img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/logo.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ran9E的笔记本
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Computer Graphics
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="grey" data-md-color-accent="grey"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/norangehere/zju-learning/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    PiXe1Ran9E/notebook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../CLDF/" class="md-tabs__link">
          
  
    
  
  System

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../ADS/" class="md-tabs__link">
          
  
    
  
  Computer Science

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../MLDA/" class="md-tabs__link">
          
  
    
  
  AI

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../OpenGL/learnopengl/" class="md-tabs__link">
          
  
    
  
  杂项

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Ran9E的笔记本" class="md-nav__button md-logo" aria-label="Ran9E的笔记本" data-md-component="logo">
      
  <img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/logo.ico" alt="logo">

    </a>
    Ran9E的笔记本
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/norangehere/zju-learning/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    PiXe1Ran9E/notebook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Home
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    System
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            System
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../CLDF/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机逻辑设计基础
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            计算机逻辑设计基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CLDF/CLDF1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Logic and Digital System
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CLDF/CLDF2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Combinational Logic Circuits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CLDF/CLDF3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Combinational Logic Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CLDF/CLDF4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sequential Circuits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CLDF/CLDF5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Digital Hardware Implementation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CLDF/CLDF6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Registers & Register Transfers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CLDF/CLDF7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Memory Basics
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../OS/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    操作系统原理与实践
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            操作系统原理与实践
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os1%20OS%20Structures/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OS Structures
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os2%20Processes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Processes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os3%20Scheduling/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scheduling
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os4%20Inter-Process%20Communication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Inter-Process Communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os5%20Threads/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Threads
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os6%20Synchronization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Synchronization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os7%20Deadlock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deadlock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os8%20Main%20Memory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Main Memory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os9%20Virtual%20Memory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Virtual Memory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os10%20Mass-Storage%20Structure/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mass-Storage Structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os11%20IO%20Systems/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IO Systems
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os12%20File%20System%20Interface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File System Interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os13%20File%20System%20Implementation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File System Implementation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OS/os14%20Security%20and%20Protection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security and Protection
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Computer Science
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ADS/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    高级数据结构与算法分析
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            高级数据结构与算法分析
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/review/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Review
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ADS/collection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    错题
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../TCS/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    理论计算机设计基础
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            理论计算机设计基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机图形学
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            计算机图形学
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    AI
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../MLDA/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    机器学习与数据分析
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            机器学习与数据分析
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MLDA/review/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Note
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../MARL/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    多智能体强化学习
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            多智能体强化学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MARL/Lec1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1 Dynamic Programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MARL/Lec2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2 Value Estimation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MARL/Lec3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3 Introduction to Deep Learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MARL/Lec4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4 Deep Q Network
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MARL/Lec5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5 Policy Gradient
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MARL/Lec6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6 策略学习高级技巧与连续控制
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MARL/Lec7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7 MARL with Factored Value Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../MARL/Lec9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    9 MARL with A-C
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ML/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    机器学习
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            机器学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../CV/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机视觉导论
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            计算机视觉导论
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    杂项
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            杂项
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OpenGL
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            OpenGL
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../OpenGL/learnopengl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LearnOpenGL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                 
                  

  
  


<h1 id="computer-graphics">Computer Graphics<a class="headerlink" href="#computer-graphics" title="Permanent link">&para;</a></h1>
<blockquote>
<p>分数构成：</p>
<ul>
<li>20% random quiz</li>
<li>10% 课堂互动</li>
<li>40% course project</li>
<li>30% assignments</li>
</ul>
</blockquote>
<h1 id="what-is-computer-graphics">What is Computer Graphics?<a class="headerlink" href="#what-is-computer-graphics" title="Permanent link">&para;</a></h1>
<ol>
<li>
<p>Pixel Representation</p>
</li>
<li>
<p>Recommended </p>
</li>
<li>Three Fundamental Tasks
   - Modeling the world
   - Animation(simulating)<ul>
<li>Simulating the behaviors of objects in the world</li>
<li>Rendering(displaying)</li>
</ul>
</li>
<li>Digital Representations of the World
   - Digital Images 更容易更真实
   - 3D Geometric Objects(Graphics) 更全面，渲染复杂
   - Symbolic Descriptions</li>
<li>Geometric Representation
   - 表示三维点: x,y,z
   - 三维线段: 两个三维点
   - 三维长方体: many ways</li>
<li>Three important and complex attributes
   - shape
   - appearance
   - dynamic behaviors</li>
</ol>
<h1 id="2d-graphics">2D Graphics<a class="headerlink" href="#2d-graphics" title="Permanent link">&para;</a></h1>
<h2 id="rasterization">Rasterization<a class="headerlink" href="#rasterization" title="Permanent link">&para;</a></h2>
<ol>
<li>Convert 2D primitives (lines, polygons,filled/patterned regions, etc.) into a raster image
   - For output on a monitor/printer
   - Rasterization or Scan Conversion</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240918081204883.png" alt="image-20240918081204883" style="zoom:50%;" />
<img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240918081738982.png" alt="image-20240918081738982" style="zoom:50%;" /></div>

<ul>
<li>液晶：亮度通过偏振片控制，因此显示黑色时会出现漏光问题</li>
</ul>
<ol start="2">
<li>Raster Graphics Packages</li>
</ol>
<ul>
<li>The efficiency is critical to the performance of a display system</li>
<li>The raster graphics package is typically a collection of efficient algorithms for scan converting (rasterizing) primitives</li>
<li>High performance graphics workstations have most of these algorithms implemented in hardware</li>
<li>Modern PCs (video cards)</li>
</ul>
<h2 id="line-segment">Line Segment<a class="headerlink" href="#line-segment" title="Permanent link">&para;</a></h2>
<ol>
<li>Coordinate System</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240918082213549.png" alt="image-20240918082213549" style="zoom:67%;" /></div>

<ol start="2">
<li>The line is a powerful element used since the days of Euclid to model the edges in the world</li>
<li>
<p>Given a line segment defined by its endpoints, determine the pixels and color which best model the line segment.</p>
</li>
<li>
<p>Requirements
   - the selected pixels should lie as close to the ideal line as possible
   - the sequence of pixels should be as straight as possible
   - all lines should appear to be of constant brightness independent of their length and orientation
   - should start and end accurately
   - should be drawn as rapidly as possible
   - should be possible to draw lines with different width and line styles</p>
</li>
<li>
<p>Equation of a line</p>
</li>
</ol>
<ul>
<li><span class="arithmatex">\(y=mx+c\)</span></li>
<li>对于线段端点 <span class="arithmatex">\(P(x_1,y_1),P(x_2,y_2)\)</span></li>
<li>可以计算斜率，x每增大单位长度，y增大m</li>
</ul>
<ol start="6">
<li>Digital Differential Analyzer(DDA)</li>
</ol>
<ul>
<li>只考虑first octant</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240918083701459.png" alt="image-20240918083701459" style="zoom:50%;" /></div>

<ul>
<li>use differential equation</li>
<li>increment x by 1</li>
<li><span class="arithmatex">\(x_i=x_{i,prev}+1,y_i=y_{i,prev}+m\)</span></li>
<li><span class="arithmatex">\([x_i,round(y_i)]\)</span></li>
</ul>
<ol start="7">
<li>
<p>DDA is an incremental algorithm, uses floating point operations, which are very cleverly avoided in an algorithm.</p>
</li>
<li>
<p>Bresenham's Line Drawing</p>
</li>
</ol>
<ul>
<li>小于45°时，y只有两种选择，不变或加1</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240918084427868.png" alt="image-20240918084427868" style="zoom:50%;" /></div>

<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240918085635477.png" alt="image-20240918085635477" style="zoom:67%;" /><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240918085856244.png" alt="image-20240918085856244" style="zoom:67%;" /></div>

<h2 id="circles">Circles<a class="headerlink" href="#circles" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>scan converting a circle</p>
</li>
<li>
<p>Bresenham's Algorithm</p>
</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240918090942054.png" alt="image-20240918090942054" style="zoom: 60%;" /></div>

<ul>
<li>加速的问题：sin和cos的误差会不断累积</li>
</ul>
<h2 id="polygon-filling">Polygon Filling<a class="headerlink" href="#polygon-filling" title="Permanent link">&para;</a></h2>
<ol>
<li>representation:</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240918091154337.png" alt="image-20240918091154337" style="zoom:50%;" /></div>

<ol start="2">
<li>
<p>filling: vertex representation -&gt; lattice representation
   - fill a polygonal region -&gt; test every pixel in the raster to see if it lies inside the polygon</p>
</li>
<li>
<p>even-odd test: 引一条射线与图形交点奇数个则图形内，偶数个则图形外</p>
</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240918091759931.png" alt="image-20240918091759931" style="zoom: 67%;" /></div>

<ol start="4">
<li>winding number: 按顺序遍历所有顶点和此点连线对应向量，根据旋转过的角度判断是否在图形内。或从一点做射线，在此之前首先制定一个多边形环绕方向，由上往下为负，由下往上为正，判断此射线和边交点的方向，为0则在多边形外，否则多边形内</li>
</ol>
<div align="center"><img src="https://upload.wikimedia.org/wikipedia/commons/a/ac/Winding_Number_Animation_Small.gif" alt="undefined" style="zoom: 67%;" /><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240919000511371.png" alt="image-20240919000511371" style="zoom:50%;" /></div>

<ol start="4">
<li>Scan-line Method</li>
</ol>
<ul>
<li>Use intersections between region boundaries and scan lines to identify pixels that are inside the area</li>
<li>Exploit the coherence<ul>
<li>Spatial coherence: Except at the boundary edges, adjacent pixels are likely to have the same characteristics</li>
<li>Scan line coherence: Pixels in the adjacent scan lines are likely to have the same characteristics</li>
</ul>
</li>
<li>From top to bottom, from left to right<ul>
<li>the intersections are paired and in-between pixels are set to the specified intensity</li>
</ul>
</li>
<li>Algorithm<ul>
<li>Find the intersections of the scan line with all the edges in the polygon</li>
<li>Sort the intersections by increasing X-coordinates</li>
<li>Fill the pixels between pair of intersections</li>
</ul>
</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240919000850125.png" alt="image-20240919000850125" style="zoom: 80%;" /></div>

<ul>
<li>Efficiency in Scan-line Method<ul>
<li>Intersections could be found using edge coherence</li>
<li>the X-intersection value <span class="arithmatex">\(x_{i+1}\)</span> of the lower scan line can be computed from the X-intersection value <span class="arithmatex">\(x_i\)</span> of the preceding scanline as <span class="arithmatex">\(x_{i+1}=x_i+1/m\)</span></li>
<li>List of active edges could be maintained to increase efficiency</li>
<li>Efficiency could be further improved if polygons are convex, much better if they are only triangles</li>
</ul>
</li>
<li>Special cases</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240918092555954.png" alt="image-20240918092555954" style="zoom:50%;" /></div>

<ul>
<li>Advantages:<ul>
<li>efficient</li>
<li>each pixel is visited only once</li>
<li>shading algorithms could be easily integrated to obtain shaded region</li>
</ul>
</li>
</ul>
<ol start="5">
<li>Seed Fill Algorithm</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240918092509207.png" alt="image-20240918092509207" style="zoom:50%;" /></div>

<h2 id="clipping">Clipping<a class="headerlink" href="#clipping" title="Permanent link">&para;</a></h2>
<ol>
<li>Clipping: removal of content that is not going to be displayed
   - 屏幕外，camera后，too close or too far
   - usually done before scan converting to make more efficient</li>
</ol>
<h1 id="introduction-to-opengl">Introduction to OpenGL<a class="headerlink" href="#introduction-to-opengl" title="Permanent link">&para;</a></h1>
<blockquote>
<p>Three stages</p>
<ul>
<li>Define Objects in World Space</li>
<li>Set Modeling and Viewing Transformations</li>
<li>Render the Scene</li>
</ul>
</blockquote>
<h2 id="how-opengl-works">How OpenGL Works<a class="headerlink" href="#how-opengl-works" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>OpenGL is a state machine</p>
</li>
<li>
<p>Give orders to set the current state of any one of its internal variables, or to query its current status</p>
</li>
<li>The current state won't change until you explicitly specify a new value</li>
<li>Each of the system's state variables has a default value</li>
</ul>
<ol>
<li>OpenGL Primitives</li>
</ol>
<ul>
<li>GL_POINTS</li>
<li>GL_LINES</li>
<li>GL_LINE_STRIP</li>
<li>
<p>GL_LINE_LOOP</p>
</li>
<li>
<p>GL_TRIANGLES</p>
</li>
<li>GL_QUADS</li>
<li>GL_POLYGON</li>
<li>GL_TRIANGLE_STRIP</li>
<li>GL_TRIANGLE_FAN</li>
<li>GL_QUAD_STRIP</li>
</ul>
<blockquote>
<p><strong>Sample</strong></p>
<p><div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240922163320794.png" alt="image-20240922163320794" style="zoom: 67%;" /><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240922163337206.png" alt="image-20240922163337206" style="zoom:67%;" /><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240922163424525.png" alt="image-20240922163424525" style="zoom:67%;" />
</div></p>
</blockquote>
<ol start="2">
<li>Command Syntax
   - All command names begin with <code>gl</code>
   - Constant names are in all uppercase
   - Data types begin with GL<ul>
<li><code>GLfloat onevertex[3]</code></li>
<li>Most commands end in two characters that determine the data type of expected arguments</li>
<li><code>glVertex3f</code></li>
</ul>
</li>
<li><code>glVertex</code></li>
</ol>
<ul>
<li><code>glVertex2f( x, y );</code></li>
<li><code>glVertex3f( x, y, z );</code></li>
<li><code>glVertex4f( x, y, z, w );</code></li>
<li><code>glVertex3fv( a ); // with a[0], a[1], a[2]</code></li>
</ul>
<ol start="4">
<li>building objects from vertices: Specify a primitive mode, and enclose a set of vertices in a glBegin / glEnd block</li>
<li>colors
   - defined as RGB components from 0.0 to 1.0
   - for background<ul>
<li><code>glClearColor(0.0,0.0,0.0) //black</code></li>
<li><code>glClear(GL_COLOR_BUFFER_BIT)</code></li>
<li>for objects</li>
<li><code>glColor3f(1.0,1.0,1.0)</code></li>
</ul>
</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240922164124859.png" alt="image-20240922164124859" style="zoom:67%;" /></div>

<ol start="6">
<li>Polygon Display Modes</li>
</ol>
<ul>
<li><code>glPolygonMode( GLenum face, GLenum mode );</code></li>
<li>Faces: GL_FRONT / GL_BACK / GL_FRONT_AND_BACK`</li>
<li>Modes: GL_FILL / GL_LINE / GL_POINT</li>
<li>By default, both the front and back face are drawn filled</li>
<li><code>glFrontFace( GLenum mode );</code>定义多边形的前面方向</li>
<li>GL_CCW (default) / GL_CW 默认逆时针</li>
<li><code>glCullFace( Glenum mode );</code>指定要剔除（不渲染）的多边形面</li>
<li>GL_FRONT / GL_BACK</li>
<li>You must enable and disable culling with <code>glEnable( GL_CULL_FACE )</code> or <code>glDisable( GL_CULL_FACE );</code> 启用或禁用剔除</li>
</ul>
<ol start="7">
<li>Drawing Other Objects</li>
</ol>
<ul>
<li>cylinders, cones and more complex surfaces called NURBS</li>
<li>spheres and cubes</li>
</ul>
<ol start="8">
<li>Structure of GLUT-based Programs</li>
</ol>
<ul>
<li>rely on user-defined callback functions</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20240922164612416.png" alt="image-20240922164612416" style="zoom:67%;" /></div>

<ol start="9">
<li>Double buffer/Tripple buffer: 隐藏绘图的过程，back buffer画好后与front buffer交换，直接让用户看到画好的</li>
<li>More GLUT<ul>
<li>Additional GLUT fucntions</li>
<li><code>glutPositionwindow(int x,int y)</code></li>
<li><code>glutReshapewindow(int w,int h)</code></li>
<li>Additional callback functions</li>
</ul>
</li>
<li>Reshape Callback/Mouse Callback/Keyboard Callback/Idle Callback/Menu Callback</li>
</ol>
<h1 id="basic-math">Basic Math<a class="headerlink" href="#basic-math" title="Permanent link">&para;</a></h1>
<h2 id="vector">Vector<a class="headerlink" href="#vector" title="Permanent link">&para;</a></h2>
<ul>
<li>multiplication, normalization</li>
<li>addition(for any dimension)</li>
<li>
<p>dot product: directional projection of <span class="arithmatex">\(a\)</span> onto <span class="arithmatex">\(b\)</span> (<span class="arithmatex">\(b\)</span> being a unit vector)</p>
</li>
<li>
<p>orthonormal vectors: perpendicular and unit length</p>
</li>
<li>
<p>傅里叶变换中的基函数也是正交基</p>
</li>
<li>
<p>cross product</p>
</li>
</ul>
<h2 id="line-equation">Line Equation<a class="headerlink" href="#line-equation" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><span class="arithmatex">\((p-p_0)n=0\)</span></p>
</li>
<li>
<p><span class="arithmatex">\(Ax+By+C=0\)</span></p>
</li>
</ul>
<h1 id="geometric-transformations">Geometric Transformations<a class="headerlink" href="#geometric-transformations" title="Permanent link">&para;</a></h1>
<h2 id="transformation">Transformation<a class="headerlink" href="#transformation" title="Permanent link">&para;</a></h2>
<blockquote>
<p>As all objects are eventually represented using points, it is sufficient to know how to transform points.</p>
</blockquote>
<ol>
<li>
<p>Translation: a rigid body transformation, translation or shift vector <span class="arithmatex">\((T_x,T_y,T_z)\)</span></p>
</li>
<li>
<p>Scaling: Scale factor <span class="arithmatex">\((S_x,S_y,S_z),x\rightarrow x*S_x\)</span>
   - 缩放是以原点为中心的缩放，缩放前后物体中心会变化，除非物体中心在原点。是对整个空间的缩放
   - 不改变中心的缩放：将中心先移动到原点再缩放再平移回去</p>
</li>
<li>
<p>Rotation: also a rigid body transformation</p>
</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241009083340875.png" alt="image-20241009083340875" style="zoom:50%;" /></div>

<ul>
<li>rotate around <span class="arithmatex">\((x_r,y_r)\)</span>:先平移将参考点移动到原点，再旋转，再平移回去</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241009083732693.png" alt="image-20241009083732693" style="zoom:50%;" /></div>

<ol start="4">
<li>
<p>Shearing: produce shape distortions
   - shearing in x-direction: <span class="arithmatex">\(x\rightarrow x+ay,y\rightarrow y,z\rightarrow z\)</span></p>
</li>
<li>
<p>General Linear Transformation: 用矩阵统一表示上述变换
   - homogeneous coordinates: <span class="arithmatex">\((x,y,z,w)\)</span> represents <span class="arithmatex">\((x/w,y/w,z/w)\)</span> in Cartesian coordinates</p>
</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241009084935784.png" alt="image-20241009084935784" style="zoom:50%;" /></div>

<ol start="6">
<li>Matrix Notations and Representations
   - column vector <span class="arithmatex">\(P_h\)</span> represents point <span class="arithmatex">\(P(x,y,z)\)</span>
   - a transformation is represented by a <span class="arithmatex">\(4\times 4\)</span> matrix <span class="arithmatex">\(M\)</span>
   - 可以用一个矩阵来表示要完成的变换（因为每次变换矩阵相乘也是相同规模的）</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241009085253407.png" alt="image-20241009085253407" style="zoom:50%;" />
    <img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241009085307971.png" alt="image-20241009085307971" style="zoom:50%;" />
</div>

<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241009085346004.png" alt="image-20241009085346004" style="zoom:50%;" />
<img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241009085446084.png" alt="image-20241009085446084" style="zoom:50%;" />
<img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241009085528689.png" alt="image-20241009085528689" style="zoom:50%;" /></div>

<ul>
<li>注意以y为转轴时的符号</li>
</ul>
<ol start="7">
<li>Rotation about an arbitrary axis</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241009090632276.png" alt="image-20241009090632276" style="zoom:50%;" /><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241009090705392.png" alt="image-20241009090705392" style="zoom:60%;" /></div>

<ol start="8">
<li>Quaternion:四元数</li>
</ol>
<h2 id="transformations-in-opengl">Transformations in OpenGL<a class="headerlink" href="#transformations-in-opengl" title="Permanent link">&para;</a></h2>
<ol>
<li>Model-view matrix</li>
</ol>
<p>Projection matrix</p>
<p>Texture matrix</p>
<ol start="2">
<li>
<p>The transformation matrices appear in reverse order to that in which the transformations are applied. In OpenGL, the transformation specified most recently is the one applied first.</p>
</li>
<li>
<p>Matrix Stacks
   - <code>glPushMatrix(void);</code>
   - <code>glPopMatrix(void);</code></p>
</li>
</ol>
<h2 id="non-linear-tranformation">Non-linear tranformation<a class="headerlink" href="#non-linear-tranformation" title="Permanent link">&para;</a></h2>
<ul>
<li>No Distortion</li>
<li>Barrel Distortion</li>
<li>Pincushion Distortion</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023001732702.png" alt="image-20241023001732702" style="zoom: 80%;" /></div>

<h1 id="viewing-in-2d-3d">Viewing in 2D &amp; 3D<a class="headerlink" href="#viewing-in-2d-3d" title="Permanent link">&para;</a></h1>
<h2 id="2d-viewing">2D Viewing<a class="headerlink" href="#2d-viewing" title="Permanent link">&para;</a></h2>
<ol>
<li>world is infinite but screen is finite.</li>
<li>通过appropriate transformation可以得到通过screen看到的window</li>
</ol>
<h3 id="window">Window<a class="headerlink" href="#window" title="Permanent link">&para;</a></h3>
<ol>
<li>rectangular region, specified by a center <code>(xCenter, yCenter)</code> and size <code>windowSize</code></li>
<li>Screen referred to as Viewport is a discrete matrix of pixels specified by size <code>screenSize (in pixels)</code></li>
<li>Mapping the 2D world seen in the window onto the viewport is 2D viewing transformation, also called window-to-viewport transformation.
   -  注意对image，x轴正向朝右，y轴正向朝下，而2D world中y轴正向朝上，因此在缩放时要加一个负号</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023082718628.png" alt="image-20241023082718628" style="zoom:50%;" /><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023082928371.png" alt="image-20241023082928371" style="zoom:50%;" /><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023082954229.png" alt="image-20241023082954229" style="zoom:50%;" /><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023083006043.png" alt="image-20241023083006043" style="zoom:50%;" /></div>

<ol start="4">
<li>Aspect Ratio: 保高/保宽</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023083410091.png" alt="image-20241023083410091" style="zoom: 60%;" /></div>

<ol start="5">
<li>
<p>OpenGL Commands</p>
</li>
<li>
<p><code>gluOrtho2D( left, right, bottom, top )</code>: Creates a matrix for projecting 2D coordinates onto the screen</p>
</li>
<li>
<p><code>glViewport(x, y, width, height)</code>: Define a rectangle of pixels onto which the final image is mapped.</p>
<ul>
<li>
<p><code>(x, y)</code> specifies the lower-left corner of the viewport.</p>
</li>
<li>
<p><code>(width, height)</code> specifies the size of the viewport rectangle.</p>
</li>
</ul>
</li>
<li>
<p>Modeling v.s. Viewing
   - Modeling变换改变了world中放置的物体，会改变场景
   - Viewing变换仅仅移动了相机，不改变场景</p>
</li>
</ol>
<h2 id="3d-viewing">3D Viewing<a class="headerlink" href="#3d-viewing" title="Permanent link">&para;</a></h2>
<blockquote>
<p>To display a 3D world onto a 2D screen    </p>
<ul>
<li>
<p>Specification becomes complicated because there are many parameters to control</p>
</li>
<li>
<p>Additional task of reducing dimensions from 3D to 2D (projection)</p>
</li>
<li>
<p>3D viewing is analogous(类似) to taking a picture with a camera</p>
</li>
</ul>
</blockquote>
<ol>
<li>PRP: Projection Reference Point = Eye Position</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023085403993.png" alt="image-20241023085403993" style="zoom: 50%;" /></div>

<ol start="2">
<li>
<p>Persepective Projection: Foreshortening depends on distance from viewer 不能用来测量   </p>
</li>
<li>
<p>Engineering Viewing, Parallel Projection: DOP, Direction of Projection = Eye position at infinity</p>
</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023090056922.png" alt="image-20241023090056922" style="zoom:50%;" /></div>

<ol start="4">
<li>Oblique Projection(斜平行)
   - Projectors make an arbitrary angle with the projection plane <br />
   - Angles in planes parallel to the projection plane are preserved</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023090648765.png" alt="image-20241023090648765" style="zoom: 50%;" /></div>

<ol start="5">
<li>View Specification</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023090904523.png" alt="image-20241023090904523" style="zoom: 60%;" /></div>

<ul>
<li>通过一个绝对的upVector进行正交化得到一个和viewDirection垂直的向量</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023091145228.png" alt="image-20241023091145228" style="zoom: 67%;" /></div>

<ol start="6">
<li>world-to-view transformation or view orientation matrix: 将世界坐标系变换到相机坐标系</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023091852623.png" alt="image-20241023091852623" style="zoom: 60%;" /></div>

<ol start="7">
<li>Perspective Projection
   - prp: projection reference point or cop: center of projection</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023092205744.png" alt="image-20241023092205744" style="zoom:60%;" /></div>

<ol start="8">
<li>View Window</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023092345942.png" alt="image-20241023092345942" style="zoom:60%;" /></div>

<ol start="9">
<li>Perspective Viewing</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023092408118.png" alt="image-20241023092408118" style="zoom:65%;" /></div>

<ol start="10">
<li>Parallel Viewing</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023092440059.png" alt="image-20241023092440059" style="zoom:60%;" /></div>

<ol start="11">
<li>
<p>View Volume: 在此以外的内容看不到，不用考虑</p>
<ul>
<li>Perspective projection</li>
</ul>
<p><div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023092539196.png" alt="image-20241023092539196" style="zoom:50%;" /></div></p>
<ul>
<li>Parallel projection</li>
</ul>
<p><div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023092730773.png" alt="image-20241023092730773" style="zoom:50%;" /></div></p>
</li>
</ol>
<h3 id="complete-view-specification">Complete View Specification<a class="headerlink" href="#complete-view-specification" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Specification in world coordinates <br />
   - position of viewing (<strong>vrp</strong>), direction of viewing(-<strong>n</strong>),
   - up direction for viewing (<strong>upVector</strong>)    </p>
</li>
<li>
<p>Specification in view coordinates  <br />
   - view window : center (<strong>cx, cy</strong>), <strong>width</strong> and <strong>height</strong>, <br />
   - <strong>prp</strong> : distance from the view plane,
   - front clipping plane : distance from view plane
   - back clipping plane : distance from view plane</p>
</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241023093047136.png" alt="image-20241023093047136" style="zoom: 50%;" /></div>

<h1 id="hidden-surface-removal-antialiasing">Hidden Surface Removal &amp; Antialiasing<a class="headerlink" href="#hidden-surface-removal-antialiasing" title="Permanent link">&para;</a></h1>
<h2 id="hidden-surface-removal">Hidden Surface Removal<a class="headerlink" href="#hidden-surface-removal" title="Permanent link">&para;</a></h2>
<h3 id="related-opengl-functions">Related OpenGL Functions<a class="headerlink" href="#related-opengl-functions" title="Permanent link">&para;</a></h3>
<ol>
<li><code>glEnable/ glDisable(GL_CULL_FACE);</code></li>
<li><code>glCullFace(mode);</code></li>
<li><code>glutInitDisplayMode(...| GLUT_DEPTH);</code></li>
<li><code>glEnable(GL_DEPTH_TEST);</code></li>
</ol>
<h3 id="visible-surface-determination">Visible Surface Determination<a class="headerlink" href="#visible-surface-determination" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>Goal
   - Given: a set of 3D objects and view specification
   - Determine: those parts of the objects that are visible when viewed along the direction of projection</p>
</li>
<li>
<p>Approaches: object space algorithm and image space algorithm</p>
</li>
<li>
<p>Object Precision Algorithm</p>
</li>
</ol>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">each</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">world</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="n">determine</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">parts</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">whose</span><span class="w"> </span><span class="n">view</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">unobstructed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">parts</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">object</span><span class="p">;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="n">draw</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">parts</span><span class="p">;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">}</span>
</code></pre></div>
<ol start="4">
<li>Image Precision Algorithm</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241030081743419.png" alt="image-20241030081743419" style="zoom:50%;" /></div>

<ol start="5">
<li>Back-face Culling: elimination of back-faces</li>
</ol>
<ul>
<li>在封闭多边形表面 like surface of a polyhedral volume or a solid polyhedron 很显然地我们看不到背面的部分</li>
<li>back face: part of the object surface facing away from the eye</li>
<li>Algorithm<ul>
<li>找到eye-vector/normal和面之间的角度</li>
<li>如果这个角度在0°~90°，则为背面，剔除</li>
</ul>
</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241030082256102.png" alt="image-20241030082256102" style="zoom:50%;" /></div>

<ul>
<li>处理不了的情况：</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241030082345595.png" alt="image-20241030082345595" style="zoom:50%;" /><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241030082403142.png" alt="image-20241030082403142" style="zoom: 67%;" /></div>

<ol start="6">
<li>Painter's Algorithm: draw back to front</li>
</ol>
<ul>
<li>Failure case: 排不出序</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241030082925992.png" alt="image-20241030082925992" style="zoom:50%;" /></div>

<ul>
<li>
<p>Warnock's Area Subdivision</p>
<ul>
<li>Start with whole image</li>
<li>If one of the easy cases is satisfied, draw what's in front</li>
<li>front polygon covers the whole window or</li>
<li>there is at most one polygon in the window.</li>
<li>Otherwise, subdivide region into 4 windows and repeat </li>
<li>If region is single pixel, choose surface with smallest depth</li>
<li>Advantages:</li>
<li>No over-rendering 不会重复绘制</li>
<li>Anti-aliases well. Go deeper to get sub-pixel information</li>
<li>Disadvantages: 不同情况运行效率差距大</li>
<li>Tests are quite complex and slow </li>
<li>Not amenable for hardware implementation 不适合做硬件实现</li>
</ul>
<p><div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241030083250075.png" alt="image-20241030083250075" style="zoom: 60%;" /></div></p>
</li>
</ul>
<ol start="7">
<li>Z-buffer Algorithm</li>
</ol>
<ul>
<li>除了一个frame buffer存color值，还需要一个一样size的z-buffer存储depth(z) value</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241030083600767.png" alt="image-20241030083600767" style="zoom:50%;" /></div>

<ul>
<li>Code</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">&lt;</span><span class="n">SCREEN</span><span class="w"> </span><span class="n">HEIGHT</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">SCREEN</span><span class="w"> </span><span class="n">WIDTH</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="p">{</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="n">WriteToFrameBuffer</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">BackgroundColor</span><span class="p">);</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="n">WriteToZBuffer</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">MAX</span><span class="p">);</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="p">}</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">polygon</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">pixel</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">polygon</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">projection</span><span class="w"> </span><span class="p">)</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="p">{</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">    </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">polygon</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="w"> </span><span class="n">z</span><span class="o">&lt;</span><span class="w"> </span><span class="n">ReadFromZBuffer</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">        </span><span class="n">WriteToFrameBuffer</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">polygon</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">));</span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">        </span><span class="n">WriteToZBuffer</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">);</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="p">}</span>
</code></pre></div>
<ul>
<li>Related OpenGL Functions</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241030085628343.png" alt="image-20241030085628343" style="zoom: 67%;" /></div>

<ol start="8">
<li>BSP Tree: 对画家算法很有效，帮助找到前后顺序。树可以预先计算</li>
</ol>
<ul>
<li>
<p>Very efficient for a static group of 3D polygons as seen from an arbitrary viewpoint</p>
</li>
<li>
<p>Correct order for Painter's algorithm is determined by a traversal of the binary tree of polygons</p>
<p><div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241030090529523.png" alt="image-20241030090529523" style="zoom:50%;" /><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/16e255bf8e200f806c7a7e0a2865a170.png" alt="img" style="zoom:50%;" /></div></p>
</li>
<li>
<p>Pros</p>
<ul>
<li>simple, elegant scheme</li>
<li>only write to framebuffer</li>
</ul>
</li>
<li>
<p>Cons</p>
<ul>
<li>需要较为繁琐的预处理过程，适用于静态场景</li>
<li>splitting会增大场景中多边形数量</li>
</ul>
</li>
</ul>
<ol start="9">
<li>
<p>k-d Tree</p>
</li>
<li>
<p>Ray Casting</p>
</li>
</ol>
<h2 id="aliasing">Aliasing<a class="headerlink" href="#aliasing" title="Permanent link">&para;</a></h2>
<ol>
<li>Aliasing是由于display设备的离散性，如用一些有限性采样连续信号，如果采样不充分，信息就会丢失</li>
<li>影响：jagged edges(锯齿), incorrectly rendered fine details, small objects might miss(有些细节没采样到)</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241030092703824.png" alt="image-20241030092703824" style="zoom:50%;" /></div>

<h3 id="anti-aliasing">Anti-aliasing<a class="headerlink" href="#anti-aliasing" title="Permanent link">&para;</a></h3>
<ol>
<li>Super-sampling：增加采样率</li>
<li>低通滤波：滤去高频部分</li>
<li>Area sampling: Intensity of the boundary pixels is adjusted depending on the percent of the pixel area covered by the primitive.</li>
</ol>
<h1 id="color-theory-programmable-pipeline">Color Theory &amp; Programmable Pipeline<a class="headerlink" href="#color-theory-programmable-pipeline" title="Permanent link">&para;</a></h1>
<h2 id="color-theory">Color Theory<a class="headerlink" href="#color-theory" title="Permanent link">&para;</a></h2>
<h3 id="what-is-color">What is Color?<a class="headerlink" href="#what-is-color" title="Permanent link">&para;</a></h3>
<ul>
<li>Color is the brain's reaction to a specific visual stimulus</li>
<li>观察者的主观感知 subjective sensation experienced by the <strong>observer</strong></li>
<li>取决于光的物理性质、与材料的交互、人类视觉系统和大脑对由此产生的现象的解读</li>
</ul>
<ol>
<li>Physics of Light</li>
</ol>
<ul>
<li>
<p>Wave Model or Particle Model</p>
</li>
<li>
<p>通常使用particle model，认为光由光子构成</p>
</li>
</ul>
<ol start="2">
<li>Properties of Light</li>
</ol>
<ul>
<li>
<p><span class="arithmatex">\(E=hf\)</span></p>
</li>
<li>
<p>Photon behavior is cyclic and has a repeated pattern</p>
</li>
<li>
<p><span class="arithmatex">\(\lambda=\dfrac{c}{f}\)</span></p>
</li>
<li>
<p>Each photon has a wavelength associated with it and the perceived color of light depends on this wavelength</p>
</li>
<li>
<p>光强取决于present的photon数量</p>
</li>
</ul>
<ol start="3">
<li>
<p>Spectral Energy Distribution Curve
   - Human eyes are sensitive to wavelengths in the range 330-770nm</p>
</li>
<li>
<p>Perception of Color
   - spectral sensitivity curves of cones: <span class="arithmatex">\(r=\int f(x)s(x)dx\)</span></p>
</li>
</ol>
<h3 id="color-model">Color Model<a class="headerlink" href="#color-model" title="Permanent link">&para;</a></h3>
<ol>
<li>RGB</li>
<li>CMYK: Cyan/Maagenta/Yellow/Black</li>
<li>HSV: Hue/Saturation/Value</li>
</ol>
<h2 id="programming-pipeline">Programming Pipeline<a class="headerlink" href="#programming-pipeline" title="Permanent link">&para;</a></h2>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241106084002338.png" alt="image-20241106084002338" style="zoom: 67%;" /></div>

<ul>
<li>Programmable stage: vertex, assembly, fragment </li>
<li>shader</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241106085444212.png" alt="image-20241106085444212" style="zoom: 67%;" /></div>

<h3 id="glsl">GLSL<a class="headerlink" href="#glsl" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>uniform variables: set by the program that can be changed at runtime, but are constant across each execution of the shader</p>
</li>
<li>
<p>attribute variables: properties of a vertex, input of vertex shader</p>
</li>
<li>varying variables:</li>
</ol>
<h1 id="curves">Curves<a class="headerlink" href="#curves" title="Permanent link">&para;</a></h1>
<h2 id="implict-curves">Implict Curves<a class="headerlink" href="#implict-curves" title="Permanent link">&para;</a></h2>
<ul>
<li>Advantages: easy to determine if a point is on the curve</li>
<li>Disadvantage: difficult to find all points on it</li>
<li>Display</li>
<li>Subdivision <ul>
<li>注意仅凭格子四个顶点值相同，也不一定能不继续细分，因为可能在格子中心发生符号变换。</li>
</ul>
</li>
</ul>
<h2 id="parametric-curves">Parametric Curves<a class="headerlink" href="#parametric-curves" title="Permanent link">&para;</a></h2>
<ul>
<li>variable is a scalar and function is a vector</li>
</ul>
<h3 id="interpolation">Interpolation<a class="headerlink" href="#interpolation" title="Permanent link">&para;</a></h3>
<ol>
<li>nearest neighbor interpolation 直接和最近采样点值相同</li>
<li>
<p>linear interpolation 线性插值，值连续但是导数不连续</p>
</li>
<li>
<p>smooth interpolation</p>
</li>
<li>
<p>cubic hermite interpolation
   - given: 两个点的值和导数
   - 做一个三次多项式插值 <span class="arithmatex">\(P(t)=at^3+bt^2+ct+d\)</span>
   - 直接带入求解就行</p>
</li>
<li>
<p>Hermite Basis Functions</p>
</li>
</ol>
<div class="arithmatex">\[
P(t)=\sum_{i=0}^3h_iHi(t)
\]</div>
<ul>
<li>change basis</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241113084210887.png" alt="image-20241113084210887" style="zoom:50%;" /></div>

<div class="arithmatex">\[
\begin{aligned}
&amp;H_{0}(t) =2t^3-3t^2+1 \\
&amp;H_1(t) =-2t^3+3t^2 \\
&amp;H_2(t) =t^3-2t^2+t \\
&amp;H_3(t) =t^3-t^2 
\end{aligned}
\]</div>
<ol start="6">
<li>Catmull-Rom interpolation</li>
</ol>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241113090232651.png" alt="image-20241113090232651" style="zoom:50%;" /></div>

<h2 id="bezier-curve">Bezier Curve<a class="headerlink" href="#bezier-curve" title="Permanent link">&para;</a></h2>
<div class="arithmatex">\[
C(t)=\sum_{i=0}^nP_iB_{i,n}(t),t\in[0,1]
\]</div>
<ul>
<li><span class="arithmatex">\(P_o\)</span>是control points 其中曲线穿过始末控制点</li>
<li>第一和第二个点连线恰为第一个点处的切线，同理倒数第二个和最后一个点连线恰为最后一个点处的切线</li>
<li><span class="arithmatex">\(B_{i,n}(t)=C_n^it^i(1-t)^{n-i}\)</span></li>
<li>0到1非负</li>
<li><span class="arithmatex">\(\sum_{i=0}^nB_{i,n}(t)=1\)</span></li>
<li><span class="arithmatex">\(B_{i,n}(t)=B_{n-i,n}(1-t)\)</span></li>
<li><span class="arithmatex">\(B_{i,n}(0)=1,i=0;=0,else\)</span></li>
<li><span class="arithmatex">\(B_{i,n}(1)=1,i=n;=0,else\)</span></li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241113090849459.png" alt="image-20241113090849459" style="zoom:50%;" /></div>

<ul>
<li>对称性</li>
<li>affine invariance</li>
<li>convex hull 贝塞尔曲线被包裹在其控制点连成的凸包中</li>
<li>
<p>variation diminishing 一条直线穿过凸包，与贝塞尔曲线的交点数不超过与控制多边形的交点数</p>
</li>
<li>
<p>rational Bezier Curve 用户控制权重</p>
</li>
</ul>
<div class="arithmatex">\[
R(t)=\frac{\sum_{i=0}^{n}B_{i,n}(t)\omega_{i}P_{i}}{\sum_{i=0}^{n}B_{i,n}(t)\omega_{i}}=\sum_{i=0}^{n}R_{i,n}(t)P_{i}
\]</div>
<ul>
<li>
<p>缺点：牵一发而动全身 一个控制点会影响整个curve</p>
</li>
<li>
<p>Non-Uniform Rational B-Splines 用户指定控制点控制范围</p>
</li>
</ul>
<h1 id="surfaces-and-beyond">Surfaces and Beyond<a class="headerlink" href="#surfaces-and-beyond" title="Permanent link">&para;</a></h1>
<h2 id="surface-modeling">Surface Modeling<a class="headerlink" href="#surface-modeling" title="Permanent link">&para;</a></h2>
<ol>
<li>Parametric Surface: Bezier Surface
   $$
   S(u,v)=\sum_{i=0}^{n}\sum_{j=0}^{m}P_{ij}B_{i,n}(u)B_{j,m}(v) ,
   $$</li>
</ol>
<ul>
<li><span class="arithmatex">\(B_{i,n}(u),B_{j,m}(v)\)</span>分别是n维和m维的Bernsterin basis</li>
<li><span class="arithmatex">\((n+1)\times(m+1)P_{i,j}\)</span> constructs the control mesh</li>
<li><span class="arithmatex">\(S(u,v)=\sum_{i=0}^n[\sum_{j=0}^mP_{ij}B_{j,m}(v)]B_{i,n}(u)=\sum_{i=0}^nQ_i(v)B_{i,n}(u) ,\)</span></li>
</ul>
<ol start="2">
<li>Normal on a Bezier Surface
   $$
   \frac{\partial}{\partial u}S(u,v)=\frac{\partial}{\partial u}\sum_{i=0}^{n}\sum_{j=0}^{m}P_{ij}B_{i,n}(u)B_{j,m}(v)=n\sum_{i=0}^{n-1}\sum_{j=0}^{m}(P_{i+1,j}-P_{ij})B_{i,n-1}(u)B_{j,m}(v)\\frac{\partial}{\partial v}S(u,v)=\frac{\partial}{\partial v}\sum_{i=0}^{n}\sum_{j=0}^{m}P_{ij}B_{i,n}(u)B_{j,n}(v)=m\sum_{i=0}^{n}\sum_{j=0}^{m-1}(P_{i,j+1}-P_{ij})B_{i,n}(u)B_{j,m-1}(v)
   $$</li>
</ol>
<ul>
<li>Normal <span class="arithmatex">\(N(u,v)\)</span>
     $$
     N(u,v)=\frac{\partial S(u,v)}{\partial u}\times\frac{\partial S(u,v)}{\partial v}
     $$</li>
</ul>
<ol start="3">
<li>
<p>B-spline Surface
   $$
   S(u,v)=\sum_{i=0}^{n}\sum_{j=0}^{m}N_{i,p}(u)N_{j,q}(v)P_{i,j}
   $$</p>
</li>
<li>
<p>NURBS Surface
   $$
   S(u,v)=\frac{\sum_{i=0}^{n}\sum_{j=0}^{m}N_{i,p}(u)N_{j,q}(v)\omega_{i,j}P_{i,j}}{\sum_{i=0}^{n}\sum_{j=0}^{m}N_{i,p}(u)N_{j,q}(v)\omega_{i,j}}
   $$</p>
</li>
</ol>
<h2 id="polygonal-meshes">Polygonal Meshes<a class="headerlink" href="#polygonal-meshes" title="Permanent link">&para;</a></h2>
<ol>
<li>Representations: Vertex Information + Topoplogical Information(Connectivity)</li>
</ol>
<ul>
<li>
<p>Vertex-Vertex Meshes</p>
<p><div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241120082659295.png" alt="image-20241120082659295" style="zoom: 67%;" />&lt;/div</p>
</li>
<li>
<p>Face-Vertex Meshes</p>
<ul>
<li>vertex normal: 取所有与这个顶点相连接的face的face normal的平均</li>
</ul>
<p><div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241120082812007.png" alt="image-20241120082812007" style="zoom: 67%;" /></div></p>
</li>
</ul>
<ol start="2">
<li>
<p>Wavefront .obj file</p>
</li>
<li>
<p>constructive solid geometry</p>
</li>
</ol>
<h2 id="l-system">L-system<a class="headerlink" href="#l-system" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>cfg, the final string represents to a sahpe</p>
</li>
<li>
<p>how to derive an L-system for a given target shape</p>
</li>
</ul>
<h2 id="shape-grammar">Shape Grammar<a class="headerlink" href="#shape-grammar" title="Permanent link">&para;</a></h2>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241120092228336.png" alt="image-20241120092228336" style="zoom:50%;" /></div>

<h2 id="subdivision-curvessurfaces">Subdivision Curves/Surfaces<a class="headerlink" href="#subdivision-curvessurfaces" title="Permanent link">&para;</a></h2>
<ul>
<li>Algorithms</li>
<li>Starting from a set of vertices</li>
<li>Generate new vertices according to certain rules to replace old ones<ul>
<li>Geometric rule</li>
</ul>
</li>
<li>Connect new vertices according to certain rules<ul>
<li>Topological rule</li>
</ul>
</li>
<li>
<p>Repeat a few times or until convergence</p>
</li>
<li>
<p>Advantages</p>
</li>
<li>topologically complex shape</li>
<li>easy to implement</li>
<li>easy to edit by manipulating the control mesh</li>
</ul>
<h2 id="sweeping">Sweeping<a class="headerlink" href="#sweeping" title="Permanent link">&para;</a></h2>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241127100503104.png" alt="image-20241127100503104" style="zoom: 67%;" /></div>

<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<ul>
<li>Surface Modeling  </li>
<li>Parametric Surfaces </li>
<li>
<p>Polygonal Meshes    </p>
</li>
<li>
<p>Advanced Geometric Modeling   </p>
</li>
<li>Constructive Solid Geometry <ul>
<li>Grammar-Based </li>
<li>L-system    </li>
<li>Shape Grammar   </li>
<li>Subdivision   </li>
<li>Sweeping</li>
</ul>
</li>
</ul>
<h1 id="digital-material-appearence">Digital Material Appearence<a class="headerlink" href="#digital-material-appearence" title="Permanent link">&para;</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<ul>
<li>Light / material interactions     </li>
<li>Absorption  </li>
<li>Reflection: Color, Glossiness   </li>
<li>Transmission    </li>
<li>Transparency    </li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241128214900480.png" alt="image-20241128214900480" style="zoom: 67%;" /></div>

<ul>
<li>和location, view, lighting有关</li>
</ul>
<h2 id="reflection-models">Reflection Models<a class="headerlink" href="#reflection-models" title="Permanent link">&para;</a></h2>
<p>介质密度的变化</p>
<ul>
<li>BRDF(Bidirectional Reflectance Distribution Function) <span class="arithmatex">\(f(i,o)\)</span>，一个四维函数 </li>
<li>我们知道所有经过同一点的模长为1的向量的集合是一个三维球，在球上表示一个点我们只需要两个参数，因此入射和出射各两个参数，一共四维</li>
<li>Fixing i, a 2D function of outgoing directions    </li>
<li>describes how incident light is reflected along different directions</li>
</ul>
<h3 id="specular-reflection">Specular Reflection<a class="headerlink" href="#specular-reflection" title="Permanent link">&para;</a></h3>
<ol>
<li>Perfect Mirror Reflection.</li>
</ol>
<ul>
<li>
<p>p: point of interest</p>
</li>
<li>
<p>n: normal</p>
</li>
<li>
<p>i: lighting vector, couting-intuitive dir 方向和实际入射方向相反</p>
</li>
<li>
<p>o: view vector</p>
</li>
<li>
<p>i,o,n are unit vectors</p>
</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241128222357905.png" alt="image-20241128222357905" style="zoom: 80%;" /></div>

<ul>
<li>
<p>计算反射方向r</p>
</li>
<li>
<p><span class="arithmatex">\(– r = -(i - &lt;i,n&gt;n) + &lt;i,n&gt;n = 2&lt;i,n&gt;n - i\)</span></p>
</li>
<li>
<p>test if <span class="arithmatex">\(&lt;o,r&gt;=1\)</span></p>
</li>
<li>
<p>利用half vector <span class="arithmatex">\(h=\dfrac{i+o}{\|i+o\|}\)</span> 判断h和n是否重合即可</p>
<p><div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241128222819517.png" alt="image-20241128222819517" style="zoom: 67%;" /></div></p>
</li>
</ul>
<ol start="2">
<li>Fresnel Reflectance Term: Reflection depends on incident angle</li>
</ol>
<ul>
<li>绝缘体</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241128224657934.png" alt="image-20241128224657934" style="zoom: 35%;" /></div>

<ul>
<li>导体</li>
</ul>
<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241128224821743.png" alt="image-20241128224821743" style="zoom:35%;" />

- 公式如下，但显然过于复杂了
  $$
  R_{s}=\left|\frac{n_{1}cos\theta_{i}-n_{2}cos\theta_{i}}{n_{1}cos\theta_{i}+n_{2}cos\theta_{i}}\right|^{2}=\left|\frac{n_{1}cos\theta_{i}-n_{2}\sqrt{1-\left(\frac{n_{1}}{n_{2}}sin\theta_{i}\right)^{2}}}{n_{1}cos\theta_{i}+n_{2}\sqrt{1-\left(\frac{n_{1}}{n_{2}}sin\theta_{i}\right)^{2}}}\right|^{2}\\R_{p}=\left|\frac{n_{1}cos\theta_{i}-n_{2}cos\theta_{i}}{n_{1}cos\theta_{i}+n_{2}cos\theta_{i}}\right|^{2}=\left|\frac{n_{1}\sqrt{1-\left(\frac{n_{1}}{n_{2}}sin\theta_{i}\right)^{2}-n_{2}cos\theta_{i}}}{n_{1}\sqrt{1-\left(\frac{n_{1}}{n_{2}}sin\theta_{i}\right)^{2}+n_{2}cos\theta_{i}}}\right|^{2}
  $$

3. 采用Schilick’s Approximation,其中$\theta$是i和n的夹角

$$
\begin{aligned}
&R(\theta)=R_0+\bigl(1-R_0\bigr)(1-cos\theta)^5 \\
&R_0=\left(\frac{n_1-n_2}{n_1+n_2}\right)^2
\end{aligned}
$$

4. Microfacet-Based Models: Many real-world materials actually consist of or can be modeled as microfacets

   - Microfacets = Tiny, planar and mirror-like surface patches
   - Key: the distribution of microfacets’ normals 不同的法向量会影响反射的结果

   $$
   f(i,o)=\frac{F(i,h)G(i,o,h)D(h)}{4(n,i)(n,o)}
   $$

   F:反射率 D:微面法向量的分布

   D(h) describes the percentage of microfacets whose n = h (i.e. the normal distribution of microfacets)

   - Microfacets that could potentially reflect under the current i & o 必要条件而非充分

   G表示Shadowing & Masking 光打不到或者反射光被物体遮挡

   - Microfacets in shadows do not reflect
   - Microfacets occluded cannot be seen

   <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241128234144077.png" alt="image-20241128234144077" style="zoom:67%;" /></div>

   Different microfacet BRDFs mainly differ with the choice of D

5. An Example: Cook-Torrance Model。D为Beckman distribution。m控制highlight的形状
   $$
   D=\frac{e^{\frac{-(an^2(a)}{m^2}}}{\pi m^2cos^4(\alpha)}, \alpha=\arccos(\mathrm{n}\bullet h)\\G=\min(1,\frac{2(h\bullet n)(o\bullet n)}{o\bullet h},\frac{2(h\bullet n)(i\bullet n)}{o\bullet h})
   $$

6. 以上我们都是isotropic的，即各向同性的，所以高光会是圆形的。如果需要条形的，这时候就要anisotropic(各向异性) BRDF

   <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241129001206066.png" alt="image-20241129001206066" style="zoom:50%;" /></div>

7. Diffuse Reflection 

   - Lambertian model   

   - Light is equally reflected along all outgoing directions   

   - Can be considered as highly spread-out random microfacets  

   - f(i,o) = constant

     <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241129001346824.png" alt="image-20241129001346824" style="zoom: 25%;" /></div>

8. Putting Things Altogether

   - The reflected light of a unit amount of directional incident light can computed as 
     $$
     f(i,o)(i,n)=\left[\frac{\rho_d}\pi+\rho_s\bullet f_{spec}(i,o)\right](i,n)
     $$

   - $\rho_d,\rho_s$ are diffuse/specular coefficients 三个分量，RGB，各算一遍

     - 非导体$\rho_s$一般是白色，导体的一般是其本身颜色

   - Could be extended to represent reflectance at different wavelengths

9. 高质量的数据：[Matusik et al. 2004] 每一个BRDF大概都要占64MB，高质量的

   <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241129002105821.png" alt="image-20241129002105821" style="zoom: 33%;" /></div>

10. useful tool

    - Disney’s BRDF Explorer: https://www.disneyanimation.com/technology/brdf.html

## Reflectance Capture

采集BRDF

1. motivation: Accurate modeling of real-world materials

2. direct sampling: General Idea    
   - For each o, For each i, Measure f(i,o) 
   - The most general approach / highest quality    
   - Extremely time consuming: Curse of dimensionality

3. Illumination Multiplexing

   - Light Stage    
     - Use hundreds of light sources simultaneously 
     - Only one or a couple of cameras  
     - Project certain patterns and recover the reflectance with a lookup table 
     - Far more efficient   
   - 在电影行业广泛应用

   <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241129002735320.png" alt="image-20241129002735320" style="zoom: 50%;" /></div>

# Textures

## Texture Mapping

- apply a spatial variation to the surface of an object

- Every 3D surface point also has a place where it goes in the 2D image and in the 2D texture
- every triangle copies a piece of texture image back to the surface
- 纹理复用：对重复场景很好用

## Texture Coordinate Generation

1. 参数化曲面：将参数面坐标直接作为纹理坐标

2. planar projection

3. spherical projection

4. complex surfaces: project parts to parametric surfaces

   <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241129205320515.png" alt="image-20241129205320515" style="zoom: 67%;" /></div>

5. logic: cut -> flatten -> pack

   - 怎么切，怎么摊平：保距、保角

## Texture Mapping is Sampling

事实上是一个重采样

- for each rasterized screen sample (x,y):

  ​ (u,v)= evaluate texcoord value at (x,y);

  ​ float3 texcolor =texture.sample(u,v);
  ​ set sample's color to texcolor;

- Mathematically, to draw a texture sample at $(u,v)$:
  - Start with discrete, sampled 2D function $f(x,y)$. This function is only non-zero at sampled locations
  - Reconstruct a continuous 2D function, $f_{cont}(x,y)=f(x,y)*k(x,y)$ by convolution with a reconstruction
    filter $k(x,y)$
  - Draw the desired sample at $(u,v)$ from the continuous 2Dsignal by function evaluation: $f_{cont}(u,v)$
- 屏幕采样率vs纹理采样率
  - At optimal viewing size:
  - 1:1 mapping between pixel sampling rate and texel sampling rate
  - Dependent on texture resolution! e.g.512x512
  - When larger(magnification), Multiple pixel samples per texel samples, upsampling
  - When smaller(minification), One pixel sample per multiple texel samples, downsampling

- screen pixel footprint in texture 即屏幕空间里一个pixel对应纹理空间的大小

  - 雅克比矩阵

    <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241129210642314.png" alt="image-20241129210642314" style="zoom:67%;" /></div>

## Texture Filtering

- 采样率不匹配可能导致锯齿、闪烁等问题

- idea: 低通滤波

- 放大: essentially image interpolation 如双线性插值

  <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241129211059335.png" alt="image-20241129211059335" style="zoom: 67%;" /></div>

- 缩小：更复杂的情况

  - 挑战

    - 很多的texel对应一个pixel footprint
    - pixel footprint的形状可能很复杂

  - idea

    - low-pass filter and 降采样
    - 使用匹配屏幕采样率的分辨率

  - mipmap: 储存不同距离对应的不同的采样率

    <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241129212514920.png" alt="image-20241129212514920" style="zoom: 67%;" /></div>

  - determine mip level D: estimate texture footprint using texture coordinates of neighboring screen samples

    <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241129212746766.png" alt="image-20241129212746766" style="zoom: 67%;" /></div>

  - 让图像更加连续：比如一个点位于level D和D+1之间，这时候先得到D和D+1时的结果，再将这两个结果进行插值，即三线性插值 trilinear filtering

  - miplap的局限性：overblur 

    <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241129213855656.png" alt="image-20241129213855656" style="zoom: 67%;" /></div>

  - Elliptical weighted average filtering 各向异性的filter

## Advanced Texturing

1. Environment Map 把环境光映射到镜面反射物体上 a function from sphere to colors

   <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241129214110725.png" alt="image-20241129214110725" style="zoom: 67%;" /></div>

   Cube Map: 把一个球分成六个正方形映射到立方体上

2. Displacement Mapping

3. Bump Mapping

4. 3D Procedural Texture

5. Precomputed Shading 预计算一个可能的阴影图，不考虑光照方向等信息

6. Bidirectional Texture Function
   - Lighting- and view-dependent textures(6D)
   - represent appearance of various materials

# Rendering

## Monte Carlo Integration

> Rendering = Infinite-dimensional Integrals

- 5D Integral: Real Camera Pixel Exposure

- estimate the volume of a d-dimensional sphere

  对高维度情况效率会不断下降到0

- Quadrature-based Integration Error
  $$
  Error \sim \frac{1}{n}=\frac{1}{N^{1/d}}
  $$

- Random Sampling Error 随机采样误差与维度无关
  $$
  Error=Variance^{1/2}\sim\frac{1}{\sqrt{N}}
  $$

- 直至现在为止，蒙特卡洛采样仍然是处理高维导数的唯一办法

1. Overview
   - Idea: estimate integral based on random sampling of a function
   - Strength
     - General and relatively simple
     - Requires only function evaluation at any point
     - Works for very general functions, including discontinuities
     - Efficient for high-dimensional integrals
   - Weakness
     - noisy: 只是平均意义上正确
     - 收敛速度可能很慢，需要大量采样

2. Monte Carlo estimator
   - Define integral $\int_a^bf(x)dx$
   - Random variable $X_i\sim p(x)$
   - estimator: $F_N=\dfrac{1}{N}\sum_{i=1}^N\dfrac{f(X_i)}{p(X_i)}$

3. basic Monte Carlo estimator
   - $X_i\sim p(x)=\dfrac{1}{b-a}$
   - so $F_N=\dfrac{1}{N}\sum_{i=1}^Nf(X_i)$

4. 蒙特卡洛是unbiased的

   <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241211083910233.png" alt="image-20241211083910233" style="zoom: 50%;" /></div>

5. Direct Lighting Estimate

   - idea: sample directions over hemisphere uniformly in solid angle

     <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241211190251824.png" alt="image-20241211190251824" style="zoom:67%;" /></div>

6. Importance Sampling 更加高效
   - $p(x)$更加接近$f(x)$的分布，函数值越大采样概率越高

7. 如果$p(x)$精确知道$f(x)$，我们只需要一个样本点就够了

## Global Illumination

1. deal with infinite dimension: probabilistic termination
   - can design this to be unbiased - this is called Russian Roulette

2. reweight
   $$
   \left.\left.\left.\mathrm{Let~}X_{\mathrm{rr}}=\left\{\begin{array}{l}\frac{X}{p_{\mathrm{rr}}},\text{ with probability }p_{\mathrm{rr}}\\0,\mathrm{~otherwise}\end{array}\right.\right.\right.\right.
   $$
   unbiased
   $$
   E[X_{\mathrm{rr}}]=p_{\mathrm{rr}}E\left[\frac{X}{p_{\mathrm{rr}}}\right]+\left(1-p_{\mathrm{rr}}\right)E[0]=E[X]
   $$
   但是会扩大variance

# Shadow Mapping












                 
<!-- Giscus -->
<h2 id="__comments">评论</h2>

<!-- 这里改成你的Giscus代码 -->
<script
  src="https://giscus.app/client.js"
  data-repo="norangehere/zju-learning"
  data-repo-id="R_kgDOK6ACmw"
  data-category="General"
  data-category-id="DIC_kwDOK6ACm84CgcwH"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="bottom"
  data-theme="preferred_color_scheme"
  data-lang="zh-CN"
  crossorigin="anonymous"
  async
></script>

<!-- Reload on palette change -->
<script>
  var palette = __md_get("__palette");
  if (palette && typeof palette.color === "object")
    if (palette.color.scheme === "slate") {
      var giscus = document.querySelector("script[src*=giscus]");
      giscus.setAttribute("data-theme", "dark");
    }

  /* Register event handlers after documented loaded */
  document.addEventListener("DOMContentLoaded", function () {
    var ref = document.querySelector("[data-md-component=palette]");
    ref.addEventListener("change", function () {
      var palette = __md_get("__palette");
      if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate" ? "dark" : "light";

        /* Instruct Giscus to change theme */
        var frame = document.querySelector(".giscus-frame");
        frame.contentWindow.postMessage(
          { giscus: { setConfig: { theme } } },
          "https://giscus.app"
        );
      }
    });
  });
</script>

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2022 <a href="https://github.com/norangehere/zju-learning/"  target="_blank" rel="noopener">HobbitQia</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/norangehere/" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../js/baidu-tongji.js"></script>
      
        <script src="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
      
        <script src="https://unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
        <script src="../../js/katex.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>