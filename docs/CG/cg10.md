# Surfaces and Beyond

## Surface Modeling

1. Parametric Surface: Bezier Surface
   $$
   S(u,v)=\sum_{i=0}^{n}\sum_{j=0}^{m}P_{ij}B_{i,n}(u)B_{j,m}(v) ,
   $$

      - $B_{i,n}(u),B_{j,m}(v)$分别是n维和m维的Bernsterin basis
      - $(n+1)\times(m+1)P_{i,j}$ constructs the control mesh
      - $S(u,v)=\sum_{i=0}^n[\sum_{j=0}^mP_{ij}B_{j,m}(v)]B_{i,n}(u)=\sum_{i=0}^nQ_i(v)B_{i,n}(u) ,$

2. Normal on a Bezier Surface
   $$
   \begin{aligned}
   \frac{\partial}{\partial u}S(u,v)&=\frac{\partial}{\partial u}\sum_{i=0}^{n}\sum_{j=0}^{m}P_{ij}B_{i,n}(u)B_{j,m}(v) \newline  
   &=n\sum_{i=0}^{n-1}\sum_{j=0}^{m}(P_{i+1,j}-P_{ij})B_{i,n-1}(u)B_{j,m}(v) \newline
   \frac{\partial}{\partial v}S(u,v)&=\frac{\partial}{\partial v}\sum_{i=0}^{n}\sum_{j=0}^{m}P_{ij}B_{i,n}(u)B_{j,n}(v) \newline  
   &=m\sum_{i=0}^{n}\sum_{j=0}^{m-1}(P_{i,j+1}-P_{ij})B_{i,n}(u)B_{j,m-1}(v)
   \end{aligned}
   $$

   - Normal $N(u,v)$
     $$
     N(u,v)=\frac{\partial S(u,v)}{\partial u}\times\frac{\partial S(u,v)}{\partial v}
     $$

3. B-spline Surface
   $$
   S(u,v)=\sum_{i=0}^{n}\sum_{j=0}^{m}N_{i,p}(u)N_{j,q}(v)P_{i,j}
   $$

4. NURBS Surface
   $$
   S(u,v)=\frac{\sum_{i=0}^{n}\sum_{j=0}^{m}N_{i,p}(u)N_{j,q}(v)\omega_{i,j}P_{i,j}}{\sum_{i=0}^{n}\sum_{j=0}^{m}N_{i,p}(u)N_{j,q}(v)\omega_{i,j}}
   $$

## Polygonal Meshes

1. Representations: Vertex Information + Topoplogical Information(Connectivity)

   - Vertex-Vertex Meshes

     <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241120082659295.png" alt="image-20241120082659295" style="zoom: 67%;" /></div>

   - Face-Vertex Meshes

     - vertex normal: 取所有与这个顶点相连接的face的face normal的平均

     <div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241120082812007.png" alt="image-20241120082812007" style="zoom: 67%;" /></div>

2. Wavefront .obj file

3. constructive solid geometry

## L-system

- cfg, the final string represents to a sahpe

- how to derive an L-system for a given target shape

## Shape Grammar

<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241120092228336.png" alt="image-20241120092228336" style="zoom:50%;" /></div>

## Subdivision Curves/Surfaces

- Algorithms
  - Starting from a set of vertices
  - Generate new vertices according to certain rules to replace old ones
    - Geometric rule
  - Connect new vertices according to certain rules
    - Topological rule
  - Repeat a few times or until convergence

- Advantages
  - topologically complex shape
  - easy to implement
  - easy to edit by manipulating the control mesh

## Sweeping

<div align="center"><img src="https://pixe1ran9e.oss-cn-hangzhou.aliyuncs.com/image-20241127100503104.png" alt="image-20241127100503104" style="zoom: 67%;" /></div>

## Summary

- Surface Modeling	
  - Parametric Surfaces	
  - Polygonal Meshes	

- Advanced Geometric Modeling	
  - Constructive Solid Geometry	
    - Grammar-Based	
      - L-system	
      - Shape Grammar	
    - Subdivision	
    - Sweeping